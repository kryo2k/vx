angular.module("vx",["vx.constants","vx.tpl","ngCookies","ngResource","ngSanitize","ngDate","angular-inview","ui.router","ui.bootstrap","vcRecaptcha","vxWamp"]).config(["$urlRouterProvider","$locationProvider","$httpProvider","$uibTooltipProvider",function(t,e,n,r){t.otherwise("/"),e.html5Mode(!1),n.interceptors.push("AuthInterceptor","HttpNormalizer"),r.options({popupDelay:500})}]),angular.module("vx").directive("autobahnControl",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directive/autobahn-control.html",controller:["$scope","User",function(t,e){t.notificationTest=function(){return e.notificationTest({test:!0}).$promise.then(function(t){return console.log("HTTP response from notification test:",t),t})}}]}}),angular.module("vx").directive("autobahn",function(){return{restrict:"EA",controller:"AutobahnCtrl as $autobahn"}}).controller("AutobahnCtrl",["$scope","$wamp","$realTime",function(t,e,n){this.wamp=e,this.realTime=n,Object.defineProperties(this,{connection:{get:function(){return e.connection}},connectionInfo:{get:function(){var t=this.session;return t&&t._socket&&t._socket.info?t._socket.info:!1}},log:{get:function(){return n.log}},session:{get:function(){var t=this.connection;return t&&t.session?t.session:!1}},connected:{get:function(){return!!this.session}}})}]),angular.module("vx").directive("ddOnCloseTop",function(){return{restrict:"A",require:"^uibDropdown",link:function(t,e,n,r){t.$watch(function(){return r.isOpen()},function(t){t||(e[0].scrollTop=0)})}}}),angular.module("vx").directive("formGroup",function(){return{restrict:"C",require:"^form",link:function(t,e,n,r){if(r){var i="has-error",o="has-success",a=e[0],u=Array.prototype.slice.call(a.querySelectorAll("[ng-model]")).reduce(function(t,e){var n=angular.element(e).attr("name");return n&&t.push(n),t},[]);u.length&&t.$watch(function(){return u.every(function(t){var e=r[t];return e?e.$valid:!0})},function(t){t?(e.removeClass(i),e.addClass(o)):(e.addClass(i),e.removeClass(o))})}}}}),angular.module("vx").directive("formInput",["$parse",function(t){var e="formInput";return{restrict:"A",require:[e,"^form"],controller:"FormInputCtrl as $formInput",link:function(n,r,i,o){function a(){var t=s(n);u.reset(),angular.isString(t)&&form.hasOwnProperty(t)?u.model=form[t]:angular.isObject(t)&&t.hasOwnProperty("$name")&&(u.model=t)}var u=o[0];u.form=o[1];var s=t(i[e]);i.$observe(e,a)}}}]).controller("FormInputCtrl",function(){var t=null,e=null;Object.defineProperties(this,{model:{get:function(){return e},set:function(t){e=t||null}},field:{get:function(){return this.hasModel?this.model.$name:!1}},form:{get:function(){return t},set:function(e){t=e||null}},hasForm:{get:function(){return null!==t}},hasModel:{get:function(){return null!==e}}}),this.reset=function(){return t=null,e=null,this}}),angular.module("vx").directive("formReset",function(){return{require:["formReset","form"],scope:{reset:"&formReset"},controller:"FormResetCtrl",link:function(t,e,n,r){function i(e,n){return function(){o.notify(n),t.reset({$event:e,$form:n}),e.defaultPrevented||a.$setPristine()}}var o=r[0],a=r[1];e.bind("reset",function(e){t.$apply(i(e,a))})}}}).controller("FormResetCtrl",["$scope",function(t){Object.defineProperties(this,{}),this.notify=function(e){return t.$broadcast("$formReset",e),this},this.addListener=function(e){return t.$on("$formReset",e)}}]),angular.module("vx").directive("heartBeatControl",function(){return{restrict:"EA",controller:"HeartBeatCtrl as $heartBeat",templateUrl:"directive/heart-beat-control.html"}}),angular.module("vx").directive("heartBeatTitle",["$heartBeat",function(t){return{require:["heartBeatTitle","?HeartBeatCtrl","?pageTitle"],restrict:"A",controller:"HeartBeatTitleCtrl as $heartBeatTitleCtrl",link:function(e,n,r,i){var o=i[0],a=i[1]||t,u=i[2];o.element=angular.element(n),u&&e.$watch(function(){return u.title},function(t){o.baseTitle=t}),e.$watch(function(){return a.isWarning},function(t){t?o.startAlert():o.stopAlert()})}}}]).controller("HeartBeatTitleCtrl",["$q","$scope","$timeout","$filter","RevControl","$heartBeat","DURATION_SHORT",function(t,e,n,r,i,o,a){var u=r("duration"),s=null,l=" | ",c=1e3;Object.defineProperties(this,{alertChar:{get:function(){return alertChar},set:function(t){angular.isString(t)&&(alertChar=t)}},separator:{get:function(){return l},set:function(t){angular.isString(t)&&(l=t)}},baseTitle:{get:function(){return s||""},set:function(t){angular.isString(t)&&(s=t)}}});var d=!1,h=function(t){return this.element?(this.element.html(t),t):t}.bind(this),f=function(){return u(o.ttlMs,a)},g=[function(t,e){e(f()+this.separator+this.baseTitle)}],p=function(){if(d&&this.element){var e=this,r=g.reduce(function(n,r){return n.then(function(i){if(!d)return n;var o=t.defer();return r.call(e,i,o.resolve.bind(o)),o.promise.then(h)})},t.when(e.baseTitle))["finally"](function(){n(p,c)});return r}}.bind(this);this.startAlert=function(){d=!0,p()},this.stopAlert=function(){d=!1,h(this.baseTitle)}}]),angular.module("vx").directive("heartBeatTouchzone",["$window","$debounce","$heartBeat",function(t,e,n){return{require:"?heartBeat",restrict:"AC",link:function(t,r,i,o){var a=.7,u=50,s=null,l=null,c=function(){return o?o.touch():n.touch()},d=function(){f()},h=function(t){var e=t.clientX,n=t.clientY;null===s&&(s=e),null===l&&(l=n);var i=r[0],o=Math.pow(s-e,2),u=Math.pow(l-n,2),c=Math.sqrt(o+u)/Math.min(i.offsetWidth,i.offsetHeight),d=c>=1-a;s=e,l=n,d&&f()},f=e(c,u,!0),g=e(h,u,!0);i.$observe("zoneSensitivity",function(t){var e=parseFloat(t,10);angular.isNumber(e)&&!isNaN(e)&&isFinite(t)&&(a=e)}),i.$observe("debounceDelay",function(t){var n=parseInt(t,10);angular.isNumber(n)&&!isNaN(n)&&isFinite(t)&&(u=n,f=e(c,n,!0),g=e(h,n,!0))}),angular.element(r).bind("mousemove",g),angular.element(r).bind("touchmove",g),angular.element(r).bind("click",d),angular.element(r).bind("touchstart",d)}}}]),angular.module("vx").directive("heartBeat",function(){return{restrict:"EA",controller:"HeartBeatCtrl as $heartBeat"}}).controller("HeartBeatCtrl",["$scope","$heartBeat","$realTime","DURATION_SHORT",function(t,e,n,r){this.service=e,t.durationOpts=angular.extend({},r,{inputAsSec:!0}),Object.defineProperties(this,{lastPushDate:{get:function(){return n.lastPushDate}},isActive:{get:function(){return e.running&&e.ttl>0}},isWarning:{get:function(){return e.isWarning}},isIdle:{get:function(){return e.isIdle}}}),this.touch=e.touch.bind(e),this.touchIf=e.touchIf.bind(e),this.refresh=e.refresh.bind(e),this.extend=e.extendAccess.bind(e)}]),angular.module("vx").directive("infiniteScroll",["$debounce",function(t){return{scope:{getMore:"&infiniteScroll"},require:"?^uibDropdown",link:function(e,n,r,i){var o=100;n[0].addEventListener("scroll",t(function(){if(!i||i.isOpen()){var t=n.prop("offsetHeight"),r=n.prop("scrollHeight"),a=n.prop("scrollTop"),u=r-t-a;o>=u&&e.getMore({})}},150))}}}]),angular.module("vx").directive("inputMatch",["$parse",function(t){var e="inputMatch";return{restrict:"A",require:"ngModel",link:function(n,r,i,o){if(i[e]){var a=!1,u=function(t){if(!angular.isFunction(a))return!1;var e=a(n);return o.$isEmpty(e)||e===t};o.$validators.match=function(t,e){return u(e)};var s=null;i.$observe(e,function(e){a=t(e),s&&s(),s=n.$watch(e,o.$validate.bind(o))})}}}}]),angular.module("vx").directive("navigation",function(){return{replace:!0,transclude:!0,controller:"NavigationCtrl as $navigation",templateUrl:"directive/navigation.html"}}).controller("NavigationCtrl",["$auth","$scope","DURATION_SHORT",function(t,e,n){e.durationOpts=angular.extend({},n,{}),this.logout=function(e){t.logout()}}]),angular.module("vx").directive("notification",function(){return{restrict:"A",replace:!0,transclude:!0,templateUrl:"directive/notification.html",scope:{model:"=notification",viewing:"&onNotificationView"}}}).directive("notificationByType",["$parse","$compile",function(t,e){return{restrict:"E",replace:!0,link:function(n,r,i){var o=t(i.type),a=function(){var t=o(n);if(t){var a="notification-"+t,u=e("<"+a+' options="'+i.typeData+'"></'+a+">");r.replaceWith(u(n))}};n.$watch(function(){return o(n)},a)}}}]),angular.module("vx").directive("pageHeader",function(){return{replace:!0,transclude:!0,templateUrl:"directive/page-header.html",scope:{title:"=phTitle",description:"=phDescription"}}}),angular.module("vx").directive("pageTitle",["$state",function(t){return{controller:"PageTitleCtrl",link:function(e,n,r,i){i.setTitle(n.html()),e.$watch(function(){return t.current&&t.current.data&&t.current.data.title&&!t.current.data.hideTabTitle?t.current.data.title:!1},function(t){t?i.prepend(t):i.undo(),n.html(i.title)}),e.$on("$stateChangeStart",function(){i.undo()})}}}]).controller("PageTitleCtrl",["$scope","$state","RevControl",function(t,e,n){var r=new n([],5),i=null,o=" - ";Object.defineProperties(this,{separator:{get:function(){return o},set:function(t){angular.isString(t)&&(o=t)}},baseTitle:{get:function(){return i||""},set:function(t){angular.isString(t)&&(i=t)}},title:{get:function(){var t=r.current;return angular.isString(t)?t:""}}}),this.setTitle=function(t){return angular.isString(t)||(t=i),null===i&&(i=t),angular.isString(t)&&r.apply(t),this},this.append=function(t){return this.setTitle(this.baseTitle+o+String(t))},this.prepend=function(t){return this.setTitle(String(t)+o+this.baseTitle)},this.undo=r.undo.bind(r),this.redo=r.redo.bind(r)}]),angular.module("vx").directive("recaptchaInit",["RECAPTCHA_SITEKEY",function(t){return{restrict:"EA",replace:!0,template:'<div vc-recaptcha key="recaptchaSiteKey"></div>',link:function(e){Object.defineProperty(e,"recaptchaSiteKey",{get:function(){return t}})}}}]),angular.module("vx").directive("userNotifications",function(){return{restrict:"A",transclude:!0,replace:!0,templateUrl:"directive/user-notifications.html",controller:"UserNotificationsCtrl as $notifications"}}).controller("UserNotificationsCtrl",["$q","$scope","$realTime","$timeout","$filter","$debounce","PaginateLazy","UserNotification",function(t,e,n,r,i,o,a,u){function s(t,e){g.totalUnread=e,g.totalRead=t}function l(){return u.count().$promise.then(function(t){return s(t.read,t.unread),t})}function c(){return g.reload()}function d(t,e){var n=t[1];switch(t[0]){case"counts":s(n.read,n.unread);break;case"markRead":angular.isArray(n)&&g.records.forEach(function(t){n.indexOf(t._id)>-1&&(t.unread=!1)});break;case"new":g.records.unshift(n),g.truncate()}}function h(t){return e.subscriptionChanging=!0,t["finally"](function(){e.subscriptionChanging=!1})}var f=(i("ellipsis"),[]),g=this.source=new a(u.query.bind(u),{unreadOnly:0,readOnly:0}),p=o(function(){u.markRead(angular.copy(f)),f.splice(0,f.length)},500);g.$promise.then(l);var m=!1;this.loadMore=g.loadMore.bind(g),this.reload=function(){return t.all([c(),l()])},this.markRead=function(t){var e=t?t._id:!1;!e||!t.unread||f.indexOf(e)>-1||(f.push(e),p())},this.subscribe=function(){return m?t.when(m):h(n.subscribeScope(e,"vx.user.notifications",d.bind(this))).then(function(t){return m=t,e.pushSubscribe=!0,m})},this.unsubscribe=function(){return m&&m.active?h(n.unsubscribe(m)).then(function(t){return m=!1,e.pushSubscribe=!1,!0}):(m&&(m=!1),t.when(!0))},this.subscribe(),e.onToggle=function(t){t||g.truncate()}}]),angular.module("vx").directive("validationError",function(){return{restrict:"E",transclude:!0,require:["validationError","^formInput","^?formReset"],templateUrl:"directive/validation-error.html",controller:"ValidationErrorCtrl as $validation",scope:{},link:function(t,e,n,r){var i=r[0],o=r[1],a=r[2];t.$formInput=o,a&&t.$on("$destroy",a.addListener(i.clear.bind(i))),t.$watch(function(){return o.model},function(t){t&&!t.$validators.hasOwnProperty("validation")&&(t.$validators.validation=function(){return!i.hasErrors},t.$validate())})}}}).controller("ValidationErrorCtrl",["$scope",function(t){Object.defineProperties(this,{isString:{get:function(){return angular.isString(this.errors)}},isArray:{get:function(){return angular.isArray(this.errors)}},errorFlags:{get:function(){var t=this.input;return t&&t.hasModel?t.model.$error||null:null}},errors:{get:function(){var t=this.input;if(!t||!t.hasModel)return null;var e=t.model.$lastErrors||null;return e?e.message||null:e}},hasErrors:{get:function(){var t=this.errors;return t&&(angular.isArray(t)||angular.isString(t))?t.length>0:!1}},input:{get:function(){return t.$formInput}},hasInput:{get:function(){var t=this.input;return!!t&&t.hasModel}}}),this.clear=function(){if(!this.hasInput||!this.hasErrors)return this;var t=this.input.model;return delete t.$lastErrors,t.$validate(),this}}]),angular.module("vx").directive("validationFeedback",["$compile",function(t){return{restrict:"E",replace:!0,require:"^formInput",templateUrl:"directive/validation-feedback.html",scope:{},link:function(t,e,n,r){t.$formInput=r}}}]),angular.module("vx").directive("validationInput",["$debounce",function(t){return{restrict:"A",require:"ngModel",link:function(e,n,r,i){var o=function(){delete i.$lastErrors,i.$validate()};e.$watch(function(){return i.$viewValue},t(function(t){var e=i.$lastErrors||!1;if(!e||!e.hasOwnProperty("original"))return!1;var n=t!==e.original;return n&&o(),n},50,100))}}}]),angular.module("vx").factory("AuthInterceptor",["ErrorBadToken","$rootScope","$q","$authPersist",function(t,e,n,r){return{request:function(t){return t.headers=t.headers||{},r.authenticated&&(t.headers.Authorization=r.token),t},responseError:function(i){return t.is(i)?(r.clear(),e.$broadcast("$sessionExpired",i),n.reject(i)):n.reject(i)}}}]),angular.module("vx").factory("ErrorAlert",function(){function t(t,e){this.message=t,this.title=e||"System Error"}return t.is=function(e){return angular.isObject(e)&&e instanceof t},t}),angular.module("vx").factory("ErrorBadToken",function(){function t(t){this.message=t}return t.is=function(e){return angular.isObject(e)&&e instanceof t},t}),angular.module("vx").factory("ErrorValidation",["ErrorAlert",function(t){function e(e,n,r){t.call(this,e,r||"Validation Error"),this.errors=n}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.is=function(t){return angular.isObject(t)&&t instanceof e},e.normalizeError=function(t,e){return{}},e.prototype.gradeForm=function(t,e){if(!e||!this.errors)return this;var n=this.errors||{};return Object.keys(n).forEach(function(t){if(e.hasOwnProperty(t)){var r=e[t];r.$lastErrors=n[t],r.$validate()}}),this},e}]),angular.module("vx").factory("HttpNormalizer",["$q","$rootScope","ErrorBadToken","ErrorAlert","ErrorValidation",function(t,e,n,r,i){return{response:function(t){var e=t.data;return angular.isString(e)||!e.success?t:(t.data=e.data,t)},responseError:function(o){if(!o)return t.reject(o);var a=o.status,u=o.data||{},s=u.hasOwnProperty("message")?u.message:null,l=u;switch(a){case 500:l=new r(s||"Unspecified error","Server Exception");break;case 400:l=new r(s||"Unspecified error","Input Error");break;case 401:l=new n(s);break;case 406:l=new i(s,u.errors)}return(r.is(l)||i.is(l)&&s)&&e.$broadcast("$systemError",l),t.reject(l)}}}]),angular.module("vx").service("Log",function(){function t(t,e,n){0===arguments.length?(t=[],e=20):angular.isArray(t)||(t=[t]),e=angular.isNumber(e)&&e>0?e:0,n&&t.reverse(),Object.defineProperties(this,{maxLength:{get:function(){return e}},length:{get:function(){return t.length}},records:{get:function(){return t}}});var r=function(){if(0===e)return this;var r=this.length-e;return r>0&&(n?t.splice(e,r):t.splice(0,r)),this}.bind(this);r(),this.add=function(){var e=Array.prototype.slice.call(arguments),i=n?Array.prototype.unshift:Array.prototype.push,o=angular.identity;return n&&e.reverse(),0===e.length?this:(angular.isFunction(this.item)&&(o=this.item.bind(this)),i.apply(t,e.map(o)),r())}}return t}),angular.module("vx").factory("PaginateLazy",["$q","$log","PaginateQuery",function(t,e,n){function r(e,r,i){var o=new n(e,r,i),a=[],u=t.when(null),s=null,l=function(t){return Array.prototype.push.apply(a,t),s=Math.max(s,o.currentPage),a};return u=o.$promise.then(l),this.loadMore=function(){return o.canGoNext?u=o.next().then(l):t.when(a)},this.reload=function(){return s=null,a.splice(0,a.length),u=o.moveFirst().then(l)},this.truncate=function(t){t=!angular.isNumber(t)||0>t?o.currentLimit:t;var e=a.length;t>0&&e>t&&(a.splice(t,e),s=1,o.setData(a,null,null,s))},Object.defineProperties(this,{$promise:{get:function(){return u}},length:{get:function(){return a.length}},records:{get:function(){return a}}}),this}return r}]),angular.module("vx").factory("PaginateQuery",["$q","$log",function(t,e){function n(n,r,i){function o(t){return angular.isObject(t)&&angular.isArray(t[s])&&angular.isNumber(t[l])&&angular.isNumber(t[c])&&angular.isNumber(t[d])&&angular.isNumber(t[h])}i=angular.isObject(i)?i:{};var a=!1,u=t.when(null),s=i.resultDocs||"docs",l=i.resultPage||"page",c=i.resultPageTotal||"pages",d=i.resultTotal||"total",h=i.resultLimit||"limit",f=i.queryPage||"page",g=i.queryLimit||"limit",p=null,m=null,v=null,$=null,b=null;return this.next=function(){return null===$?this.load():this.canGoNext?this.load($+1):t.when(!1)},this.prev=function(){return null===$?this.load():this.canGoPrev?this.load($-1):t.when(!1)},this.reset=function(e){return u=t.when(null),p=null,m=null,v=null,$=null,b=null,e&&this.load(),this},this.moveFirst=function(t,e){return this.load(1,t,e)},this.moveLast=function(t,e){return this.load(v,t,e)},this.setData=function(t,e,n,r,i){return p=t||p,m=e||m,v=n||v,$=r||$,b=i||b,this},this.load=function(i,m,v){var $=angular.merge({},r,v),b=this.setData.bind(this);if(a)return u;angular.isNumber(i)&&($[f]=i),angular.isNumber(m)&&($[g]=m);var y=n($);return y?(y.hasOwnProperty("$promise")&&(y=y.$promise),angular.isFunction(y.then)?(a=!0,y=u=y.then(function(t){return o(t)?(b(t[s],t[d],t[c],t[l],t[h]),p):(e.warn("Data received does not appear to be paginated.",t),t)})["finally"](function(){a=!1})):t.when(y)):t.when(y)},Object.defineProperties(this,{$promise:{get:function(){return u}},length:{get:function(){return p?p.length:0}},loading:{get:function(){return a}},records:{get:function(){return p}},totalRecords:{get:function(){return m}},totalPages:{get:function(){return v}},currentPage:{get:function(){return $}},currentLimit:{get:function(){return b}},canGoNext:{get:function(){return angular.isNumber($)&&angular.isNumber(v)&&v>$}},canGoPrev:{get:function(){return angular.isNumber($)&&$>1}}}),this.load(),this}return n}]),angular.module("vx").factory("RevControl",function(){function t(t,n,r){angular.isArray(t)||(t=[t]);var i=t.length?0:-1;arguments.length<3&&(r=n,n=i),Object.defineProperties(this,{history:{get:function(){return t}},maxUndo:{get:function(){return r},set:function(t){t=parseInt(t,10),e(t)||(t=5),0>t&&(t=0),t!==r&&(r=t)}},history:{get:function(){return t}},length:{get:function(){return t.length}},head:{get:function(){return t[0]}},index:{get:function(){return n},set:function(r){var i=t.length;r=parseInt(r,10),(!e(r)||-1>r)&&(r=-1),r=-1===r&&i>0?0:Math.min(r,i-1),r!==n&&(n=r)}},current:{get:function(){return t[this.index]}},foot:{get:function(){return t[t.length-1]}},isHead:{get:function(){return 0===n}},isFoot:{get:function(){return n===t.length-1}}}),this.index=n,this.maxUndo=r}var e=function(t){return!isNaN(t)&&isFinite(t)};return t.prototype.moveToFoot=function(){return this.index=this.length-1,this},t.prototype.moveToHead=function(){return this.index=0,this},t.prototype.apply=function(t,e){var n=this.history,r=this.maxUndo,i=this.length,o=this.index;return t===this.head?this.moveToHead():(0===i||-1===o?(n.unshift(t),i++):this.isHead?e?n[o]=t:(n.unshift(t),i++):(n.splice(0,o,t),i=n.length),r>0&&i>r&&n.splice(r,i-r),this.moveToHead())},t.prototype.undo=function(t,n){n=!!n,t=parseInt(t,10),(!e(t)||1>t)&&(t=1);var r=this.index;return this.index+=t,n&&(this.index=0,this.history.splice(0,r+1)),this},t.prototype.redo=function(t){return this.index-=t||1,this},t}),angular.module("vx").filter("ellipsis",function(){return function(t,e,n,r,i){var o=0,a=0,u=0;return t?(angular.isString(t)||(t=String(t)),u=t.length,i=angular.isString(i)?i:"...",o=i.length,e=!angular.isNumber(e)||0>e?5:e,n=!angular.isNumber(n)||0>n?5:n,a=e+n+o,r=!angular.isNumber(r)||a>r?a:r,r>u?t:t.substring(0,e)+i+t.substring(u-n,u)):""}}),angular.module("vx").factory("Contact",["$apiUrl","$resource",function(t,e){return e(t("contact/:controller"),{controller:null,id:null},{submit:{method:"POST",params:{controller:"submit"}}})}]),angular.module("vx").factory("UserNotification",["$apiUrl","$resource",function(t,e){return e(t("user/notification/:controller"),{controller:null,id:null},{query:{method:"GET",params:{},isArray:!1},markRead:{method:"POST",params:{controller:"mark-read"}},count:{method:"GET",params:{controller:"count"}}})}]),angular.module("vx").factory("UserRecovery",["$apiUrl","$resource",function(t,e){return e(t("user/reset-pw/:controller/:id"),{controller:null,id:null},{forgotPassword:{method:"POST",params:{controller:""}},changePassword:{method:"POST"},validateId:{method:"GET"}})}]),angular.module("vx").factory("User",["$apiUrl","$resource",function(t,e){return e(t("user/:controller"),{controller:null,id:null},{login:{method:"POST",params:{controller:"login"}},signup:{method:"POST",params:{controller:"signup"}},tokenInfo:{method:"GET",params:{controller:"token-info"}},tokenExtend:{method:"GET",params:{controller:"token-extend"}},getProfile:{method:"GET",params:{controller:"profile"}},updateProfile:{method:"POST",params:{controller:"profile"}},changePassword:{method:"POST",params:{controller:"change-password"}},notificationTest:{method:"POST",params:{controller:"notification-test"}}})}]),angular.module("vx").service("$apiUrl",["API",function(t){return function(){return t+"/"+Array.prototype.slice.call(arguments).join("/").replace(/\/+/g,"/").replace(/^\//,"")}}]),angular.module("vx").service("$authPersist",["$cookies","DOMAIN","DOMAINHTTPS",function(t,e,n){function r(t,r,i,o){r=r||"/",i=i||e,o="boolean"==typeof o?o:n;var a={};return r&&(a.path=r),i&&(a.domain=i),t&&(a.expires=t),o&&(a.secure=o),a}var i="cvx-token";this.has=function(){return!!this.get()},this.clear=function(){return t.remove(i,r()),this},this.get=function(){return t.get(i)},this.set=function(e,n){return t.put(i,e,r(n)),this},Object.defineProperties(this,{token:{get:this.get.bind(this)},authenticated:{get:this.has.bind(this)}})}]),angular.module("vx").service("$authState",["$rootScope","$state","$auth",function(t,e,n){return{onStateChangeStart:function(){},onStateChangeSuccess:function(){},onStateChangeError:function(t,e,n,r,i,o){}}}]).run(["$rootScope","$authState",function(t,e){t.$on("$stateChangeStart",e.onStateChangeStart),t.$on("$stateChangeSuccess",e.onStateChangeSuccess),t.$on("$stateChangeError",e.onStateChangeError)}]),angular.module("vx").service("$authWatch",["$rootScope","$auth",function(t,e){return function(){for(var n,r=Array.prototype.slice.call(arguments),i=null,o=null;void 0!==(n=r.shift());)"boolean"==typeof n&&null===o?o=n:angular.isFunction(n)&&null===i&&(i=n);if(!angular.isFunction(i))return angular.noop;var a;if(o){var u=i;i=function(){a(),u.apply(this,arguments)}}return a=t.$watch(function(){return e.authenticated},function(t,n){return t?i(!0,e.profile):i(!1)})}}]),angular.module("vx").service("$auth",["$q","$authPersist","User",function(t,e,n){var r=!1,i=!1,o=function(t){return r=t,t["finally"](function(){r=!1})};Object.defineProperties(this,{authenticated:{get:function(){return e.authenticated&&!r}},loading:{get:function(){return r}},profile:{get:function(){return this.authenticated?i:null}},ready:{get:function(){return this.authenticated?t.when(this.profile):r?r:t.when(!1)}}}),this.accessInfo=function(){return n.tokenInfo().$promise},this.extendAccess=function(t){return n.tokenExtend({longTerm:t?1:0}).$promise.then(function(t){return e.set(t.token,t.expireDate),this.profile}.bind(this))},this.reloadProfile=function(){return o(n.getProfile().$promise.then(function(t){return i=t})["catch"](function(t){return i=!1,e.clear(),!1}))},this.loadUserProfile=function(t){return this.reloadProfile()},this.signup=function(t){return o(n.signup(t).$promise.then(function(t){return e.set(t.token,t.expireDate)}).then(this.loadUserProfile.bind(this)))},this.login=function(t){return o(n.login(t).$promise.then(function(t){return e.set(t.token,t.expireDate)}).then(this.loadUserProfile.bind(this)))},this.logout=function(){return i=null,e.clear(),this},e.authenticated&&this.reloadProfile()}]),angular.module("vx").service("$debounce",["$timeout",function(t){return function(e,n,r){var i;return function(){var o=this,a=arguments,u=function(){i=null,r||e.apply(o,a)},s=r&&!i;i&&t.cancel(i),i=t(u,n),s&&e.apply(o,a)}}}]),angular.module("vx").service("$dirtyForm",function(){return function(t){return t&&t.hasOwnProperty("$setDirty")?(t.$setDirty(!0),angular.forEach(t,function(t,e){angular.isObject(t)&&t.hasOwnProperty("$modelValue")&&t.$setDirty()}),t):t}}),angular.module("vx").service("$guestOnly",["$rootScope","$auth","$state",function(t,e,n){return function(r){return(r||t).$watch(function(){return e.authenticated},function(e){if(e){if(t.restoreState){var r=t.restoreState;return delete t.restoreState,n.go(r.name,r.params)}return n.go("app.user.dashboard")}})}}]),angular.module("vx").service("$heartBeat",["$q","$timeout","$auth","$filter",function(t,e,n,r){function i(t){return Math.round(t/1e3)}function o(t){return angular.isNumber(v)&&!isNaN(v)&&isFinite(v)&&v>=0}var a=r("duration"),u=!1,s=15e4,l=6e4,c=3e4,d=5e3,h=!1,f=null,g=!1,p=null,m=null,$=null,b=null,y=null,w=null;Object.defineProperties(this,{interval:{get:function(){return s},set:function(t){o(t)&&(s=t,this.resetTimeout())}},warnThreshold:{get:function(){return l},set:function(t){o(t)&&(l=t)}},idleThreshold:{get:function(){return c},set:function(t){o(t)&&(c=t)}},longTerm:{get:function(){return g},set:function(t){g=!!t}},lastCheck:{get:function(){return p}},lastTouch:{get:function(){return m}},expireAt:{get:function(){return b}},ttlMs:{get:function(){return this.expireAt?this.expireAt.getTime()-Date.now():1/0}},ttlSec:{get:function(){return i(this.ttlMs)}},ttlDuration:{get:function(){return a(1e3*this.ttlSec)}},idleMs:{get:function(){return m?Date.now()-m.getTime():1/0}},idleSec:{get:function(){return i(this.idleMs)}},nextCheckInMs:{get:function(){return p?s-(Date.now()-p.getTime()):1/0}},nextCheckInSec:{get:function(){return i(this.nextCheckInMs)}},issuedAt:{get:function(){return y}},isWarning:{get:function(){return this.ttlMs<=this.warnThreshold}},isWarningGraced:{get:function(){return this.ttlMs<=this.warnThreshold+d}},isIdle:{get:function(){return this.idleMs>=this.idleThreshold}},running:{get:function(){return u}},checking:{get:function(){return h}},$promise:{get:function(){return t.when(f)}}});var x=function(){return!u||h?this.resetTimeout():(h=!0,f=n.accessInfo().then(function(t){return b=new Date(t.expireDate),y=new Date(t.issuedDate),g=!!t.longTerm,t},function(t){return $=t,t})["finally"](function(){h=!1,p=new Date}),this.resetTimeout())}.bind(this);this.refresh=function(t){return this.touchIf(t,!0),x().$promise},this.extendAccess=function(t,e){return this.touchIf(e,!0),n.extendAccess("boolean"==typeof t?t:this.longTerm).then(function(){return this.refresh(e)}.bind(this))},this.reset=function(t){return f=null,b=null,y=null,p=null,this.touchIf(t),this.resetTimeout()},this.touchIf=function(t,e,n){return e="boolean"==typeof e?e:!1,("boolean"==typeof t?t:e)&&this.touch(n),this},this.touch=function(t){return m=angular.isDate(t)?t:new Date,this},this.resetTimeout=function(){return null!==w&&(e.cancel(w),w=null),u?(w=e(x,s),this):this},this.start=function(){return u||!n.authenticated?this.resetTimeout():(u=!0,x(),this)},this.stop=function(){return u?(u=!1,this.reset(),this):this.resetTimeout()}}]).run(["$rootScope","$interval","$heartBeat","$authWatch","$auth",function(t,e,n,r,i){n.touch(),r(function(t){t?this.start():this.stop()}.bind(n)),t.$on("$stateChangeStart",n.touch),t.$on("$stateChangeSuccess",n.touch),t.$on("$stateChangeError",n.touch);var o="no-change",a="renew",u="logout";t.$watch(function(){return n.running&&n.isWarningGraced?!n.isIdle&&n.isWarningGraced?a:n.ttlMs<=0&&n.running?u:o:o},function(t){return t!==o?t===u?i.logout():t===a?n.extendAccess(null,!1):void 0:void 0}),e(angular.noop,1e3)}]),angular.module("vx").service("$modalMessage",["$q","$modalOpen",function(t,e){return function(t,n,r){n=n||"Message",r=r||"text-info";var i=e({modal:{title:n,text:t,titleClass:r,bodyClass:r,dismissable:!0,buttons:[{text:"Okay",click:function(t){i.dismiss.apply(i,t)}}]}},{windowClass:"slide",size:"modal-sm"});return i}}]),angular.module("vx").service("$modalOpen",["$rootScope","$uibModal",function(t,e){return function(n,r){return e.open(angular.extend({templateUrl:"modal/default.html",scope:angular.extend(t.$new(),n||{})},r))}}]),angular.module("vx").service("$modalSystemError",["$q","$modalOpen",function(t,e){return function(t){var n=e({modal:{title:t.title,text:t.message,titleClass:"text-danger",bodyClass:"text-danger",dismissable:!0,buttons:[{text:"Okay",click:function(t){n.dismiss.apply(n,t)}}]}},{windowClass:"slide",size:"modal-sm"});return n}}]).run(["$modalSystemError","$rootScope",function(t,e){e.$on("$systemError",function(e,n){return t(n).result})}]),angular.module("vx").service("$randomName",["$random","$randomPluck",function(t,e){var n=["Juan","Margaret","David","Jerry","Kathleen","Donna","Ruth","Roger","Gary","Andrew","Steven","Carol","Shirley","Jack","Cheryl","Joe","Heather","Gloria","Sharon","Ashley","Cynthia","Nancy","Jeffrey","Deborah","Stephanie","Martha","Virginia","Douglas","Mark","Jean","Carolyn","Raymond","Ann","Michael","Melissa","Stephen","Maria","Robert","John","Terry","Dorothy","Joseph","Kevin","Eric","Gregory","Michelle","Anthony","Peter","Ronald","Janet","Carl","Julie","Jonathan","Walter","Donald","Teresa","Amanda","Brian","Scott","Doris","Frank","Evelyn","Amy","Frances","Betty","George","Sarah","Jason","Christine","Anna","Jessica","Susan","Laura","Charles","Thomas","Paul","Timothy","Daniel","Brenda","Helen","Henry","Albert","Karen","Katherine","Linda","Lisa","Larry","Kenneth","Jose","Rebecca","Mary","Ryan","Marie","Christopher","Patrick","Richard","Sandra","Matthew","Diane","Edward","James","Arthur","Mildred","Jennifer","Justin","Harold","Barbara","Angela","Debra","Joyce","Joan","Alice","William","Dennis","Patricia","Kimberly","Catherine","Elizabeth","Pamela","Joshua","Judith"],r=["James","Daniel","Ruby","Paige","Lee","Jay","Henry","Belle","Anne","Thomas","Andrew","Alexander","Jade","William","Louise","Claire","Lily","Joseph","Elizabeth","Hope","Peter","Mary","Matthew","Charlotte","Christopher","May","Grace","Jane","John","Anthony","Michael","Kate","Jack","Marie","Oliver","Robert","Jean","David","Edward","Rose"],i=["Morgan","Rogers","Coleman","Rodriguez","Richardson","Brown","Nelson","Ruiz","Kelly","Price","Ross","Martin","Patterson","Sanders","Edwards","Kennedy","Marshall","Diaz","Ford","Chavez","Perez","Stewart","Robinson","Ward","Wood","Peterson","Turner","Lee","Wallace","Wells","Harrison","Jackson","Roberts","Howard","Garcia","Cox","Davis","Gonzales","Murray","Reed","Owens","Taylor","Mcdonald","Walker","Powell","White","Perry","Watson","Morris","Sanchez","Gibson","Ellis","Russell","Green","Foster","Hughes","Ramos","Simmons","Bell","Hernandez","Harris","Anderson","Sullivan","Thomas","Clark","Jenkins","Butler","Lopez","Myers","Evans","Mitchell","Torres","Nguyen","James","Bennett","Flores","Bryant","King","Lewis","Cook","Bailey","Hamilton","Wright","Gonzalez","Graham","Young","Long","Wilson","Martinez","Ortiz","Murphy","Cooper","Collins","Smith","Griffin","Carter","Gomez","Adams","Moore","Hayes","Hall","Cole","Henderson","Gray","Fisher","Williams","Kim","Barnes","Stevens","Parker","Jones","Brooks","Miller","Rivera","Thompson","West","Jordan","Gutierrez","Morales","Allen","Ramirez","Phillips","Scott","Johnson","Alexander","Hill","Cruz","Baker","Campbell","Reyes","Reynolds"];return function(){return{first:e(n),middle:e(r),last:e(i),birthday:new Date(t((new Date).getFullYear()-80,(new Date).getFullYear(),0),t(0,11,0),t(1,31,0),t(0,23,0),t(0,59,0),t(0,59,0),t(0,999,0)),
toString:function(){return[this.first,this.middle,this.last].join(" ")}}}}]).service("$randomEmail",["$random","$randomName","$randomPluck",function(t,e,n){var r=["aol.com","att.net","comcast.net","facebook.com","gmail.com","gmx.com","googlemail.com","google.com","hotmail.com","hotmail.co.uk","mac.com","me.com","mail.com","msn.com","live.com","sbcglobal.net","verizon.net","yahoo.com","yahoo.co.uk","email.com","games.com","gmx.net","hush.com","hushmail.com","icloud.com","inbox.com","lavabit.com","love.com","outlook.com","pobox.com","rocketmail.com","safe-mail.net","wow.com","ygm.com","ymail.com","zoho.com","fastmail.fm"];return function(t){return t=t||e(),t.domain=n(r),t.username=String(t.last+"."+t.first).toLowerCase()+"."+t.birthday.getFullYear(),t.toEmail=t.toEmail||function(){return t.username+"@"+this.domain},t.email=t.toEmail(),t}}]).service("$randomWords",["$asNumber","$random","$clamp","$randomPluck",function(t,e,n,r){var i=["excite","short","silly","chivalrous","form","end","squalid","aback","salt","ratty","peep","board","day","letter","inexpensive","signal","queen","tire","regular","fantastic","plan","long","actor","toothpaste","descriptive","encouraging","occur","pump","idea","plausible","glossy","edge","public","breakable","wish","poison","comparison","deranged","bushes","glistening","hard","ready","abhorrent","sweet","multiply","young","hole","mighty","consider","respect","laborer","whirl","pies","float","tense","shape","wiry","calculator","channel","ancient","dream","magenta","sheet","soggy","ugly","nod","spotless","ossified","iron","creature","bleach","pin","snails","twig","condemned","observant","ink","vigorous","itch","phobic","guiltless","smelly","bottle","four","majestic","lowly","impartial","person","bite-sized","mass","hateful","parched","plastic","second-hand","spare","practise","industrious","straw","river","detailed","damaged","sweater","shut","oatmeal","found","hungry","robust","shake","overconfident","high","appear","daffy","scream","tree","yarn","trains","corn","frogs","pipe","amount","dirty","badge","pedal","chunky","straight","account","striped","sneaky","unbiased","mature","level","train","wander","crowded","jam","important","unpack","boil","terrify","fertile","quirky","weather","cake","bell","magnificent","angry","typical","jumpy","serve","scattered","horrible","obsequious","bait","pointless","awful","seashore","squirrel","tease","rotten","order","canvas","offer","evasive","trees","whole","silent","rescue","move","bag","jealous","fence","smoke","work","retire","trail","scintillating","dry","post","understood","addition","paste","labored","file","please","mice","snake","property","tent","dysfunctional","grateful","lace","curve","miss","scissors","wilderness","elite","mixed","greedy","noxious","towering"];return function(o){return r(i,n(t(o,e(1,5)),1),!0).join(" ")}}]),angular.module("vx").config(["$wampProvider","WAMP_URL","WAMP_REALM",function(t,e,n){t.init({url:e,realm:n,authmethods:["wampcra"]})}]).factory("RealTimeLog",["Log",function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t),e.prototype.constructor=e,e.prototype.item=function(t){return{cls:t.c,message:t.m,date:new Date}},e}]).service("$realTime",["$wamp","$auth","$authPersist","$rootScope","$filter","RealTimeLog",function(t,e,n,r,i,o){var a=i("ellipsis"),u=!1,s=null,l=new o([],5,!0),c=function(t,e,n){return function(){var r=t;return angular.isFunction(t)&&(r=t.apply(this,arguments)),l.add({m:r,c:e}),n.apply(this,arguments)}}.bind(this);Object.defineProperties(this,{log:{get:function(){return l.records}},lastPushDate:{get:function(){return s}}}),this.publish=c("Publishing","",t.publish.bind(t)),this.register=c("Registering","",t.register.bind(t)),this.unregister=c("Unregistering","",t.unregister.bind(t)),this.call=c("Calling function","",t.call.bind(t)),this.open=c("Connection opening..","success",t.open.bind(t)),this.close=c("Connection closing..","danger",t.close.bind(t)),this.subscribe=function(e,n){var r=null,i=null;return t.subscribe(e,function(t,r){return l.add({m:"Subscription ("+e+":"+i+") got data: "+JSON.stringify(t)+" meta: "+JSON.stringify(r)}),n.apply(this,arguments)}).then(function(t){return i=a(r=t.id),l.add({m:"Subscribed to channel ("+e+") with id ("+i+")."}),t},function(t){return l.add({m:"Got error ("+t+") while subscribing to channel ("+e+").",c:"danger"}),res})},this.unsubscribe=function(e){var n=e.topic,r=e.id,i=a(r);return t.unsubscribe(e).then(function(t){return l.add({m:"Unsubscribed from channel ("+n+") id ("+i+")."}),angular.isObject(e)&&angular.isFunction(e.$scopeWatchDeregistration)&&(e.$scopeWatchDeregistration(),delete e.$scopeWatchDeregistration),t},function(t){return l.add({m:"Got error ("+t+") while unsubscribing channel ("+n+").",c:"danger"}),res})},this.subscribeScope=function(t,e,n){return this.subscribe(e,n).then(function(n){return n.$scopeWatchDeregistration=t.$on("$destroy",function(){return n&&n.active?(l.add({m:"Auto-unsubscribing scope from channel ("+e+")",c:"warning"}),n.unsubscribe()):void 0}),n})},this.start=function(){return u?this:(l.add({m:"Starting real-time wamp socket.",c:"success"}),u=!0,t.setAuthId(n.token),t.open(),this)},this.stop=function(){return u?(l.add({m:"Stopping real-time wamp socket.",c:"danger"}),u=!1,s=null,t.close(),this):this},this.subscribe("vx.time",function(t){s=new Date(t[0])}),r.$on("$wamp.open",function(t){l.add({m:"Connection opened.",c:"success"})}),r.$on("$wamp.close",function(t){l.add({m:"Connection closed.",c:"danger"})}),r.$on("$wamp.onchallenge",function(t,n){l.add({m:"Authenticating as "+e.profile.name+"..",c:"info"});var r=n.extra,i=autobahn.auth_cra.derive_key(e.profile._id,r.salt,r.iterations,r.keylen);return n.promise.resolve(autobahn.auth_cra.sign(i,r.challenge))})}]).run(["$realTime","$authWatch",function(t,e){e(function(t){t?this.start():this.stop()}.bind(t))}]),angular.module("vx").service("$isNull",function(){return function(t){return null===t}}).service("$isUndefined",function(){return function(t){return void 0===t}}).service("$isNullUndefined",["$isNull","$isUndefined",function(t,e){return function(n){return t(n)||e(n)}}]).service("$isString",function(){return function(t){return"string"==typeof t}}).service("$isBoolean",function(){return function(t){return"boolean"==typeof t}}).service("$isNumber",function(){return function(t){return"number"==typeof t&&!isNaN(t)}}).service("$isNumberBetween",["$isNumber",function(t){return function(e,n,r){return t(e)&&t(n)&&t(r)?e>=Math.min(n,r)&&e<=Math.max(n,r):!1}}]).service("$isScalar",["$isNull","$isString","$isNumber","$isBoolean",function(t,e,n,r){return function(i){return!t(i)&&(e(i)||n(i)||r(i))}}]).service("$isPrimitive",["$isNull","$isString","$isNumber","$isBoolean","$isUndefined",function(t,e,n,r,i){return function(o){return!t(o)&&(e(o)||n(o)||r(o)||i(o))}}]).service("$isFunction",function(){return angular.isFunction}).service("$isArray",function(){return angular.isArray}).service("$isPlainObject",function(){return function(t){return"[object Object]"===Object.prototype.toString.call(t)}}).service("$isObjectType",function(){return function(t){return"object"===t}}).service("$isObject",["$isNull","$isFunction","$isObjectType",function(t,e,n){return function(r,i){var o=!t(r)&&n(typeof r);return o&&e(i)&&!1==r instanceof i&&(o=!1),o}}]).service("$isDate",["$isObject",function(t){return function(e){return t(e,Date)}}]).service("$asNumber",["$isNumber","$isNullUndefined",function(t,e){return function(n,r){if(r=t(r)?r:0,e(n))return r;if(t(n))return n;var i=parseFloat(n);return isNaN(i)?r:i}}]).service("$asBoolean",["$isBoolean","$isNumber","$isString","$isNullUndefined",function(t,e,n,r){return function(i,o){return o=t(o)?o:!1,r(i)?o:t(i)?i:e(i)?1===i:n(i)?["yes","true","1","on","enabled","enable"].indexOf(i.toLowerCase())>-1:o}}]).service("$asString",["$isNullUndefined","$isString",function(t,e){return function(n,r){return r=e(r)?r:"",t(n)?r:e(n)?n:String(n)}}]).service("$round",["$isNumber",function(t){return function(e,n){if(!t(e))return NaN;n=Math.abs(Math.round(isNaN(n)?0:n));var r=Math.pow(10,n);return e=Math.round(e*r)/r}}]).service("$clamp",["$isNumber","$round",function(t,e){return function(n,r,i,o){return t(n)?(t(r)&&(n=Math.max(n,r)),t(i)&&(n=Math.min(n,i)),t(o)&&(n=e(n,o)),n):NaN}}]).service("$shuffle",["$isArray",function(t){return function(e){if(!t(e))return!1;for(var n,r,i=e.length;0!==i;)r=Math.floor(Math.random()*i),i-=1,n=e[i],e[i]=e[r],e[r]=n;return e}}]).service("$shuffledCopy",["$isArray","$shuffle",function(t,e){return function(n){return t(n)?e(n.slice()):!1}}]).service("$random",["$asNumber","$isNumber","$round",function(t,e,n){return function(r,i,o){r=t(r,0),i=t(i,1);var a=r+Math.random()*(i-r);return e(o)&&(a=n(a,o)),a}}]).service("$randomPluck",["$isArray","$clamp","$random","$asNumber","$shuffledCopy",function(t,e,n,r,i){return function(o,a,u){return t(o)?(a=e(r(a,1),1),1!==a||u?i(o).slice(0,a):o[Math.floor(n(0,o.length))]):!1}}]).service("$uuid",function(){var t=1;return function(){return t++}}),angular.module("vx").config(["$stateProvider",function(t){t.state("app",{"abstract":!0,templateUrl:"state/app.html",controller:"AppCtrl as $app",data:{}})}]).controller("AppCtrl",["$scope","$state","$auth",function(t,e,n){Object.defineProperties(this,{state:{get:function(){return e.current}},authenticated:{get:function(){return n.authenticated}},profile:{get:function(){return n.profile}}})}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.guest",{"abstract":!0,templateUrl:"state/guest.html",controller:"AppGuestCtrl"})}]).controller("AppGuestCtrl",["$scope",function(t){}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.user",{"abstract":!0,templateUrl:"state/user.html",controller:"AppUserCtrl",resolve:{authorization:["$auth",function(t){return t.ready}]}})}]).controller("AppUserCtrl",["$scope","$rootScope","$state","$stateParams","authorization","$authWatch",function(t,e,n,r,i,o){var a="app.guest.login",u={},s=function(){return e.restoreState={name:n.current.name,params:angular.copy(r)},n.go(a,u)};return i?void t.$on("$destroy",o(function(t){t||s()})):s()}]),angular.module("vx").directive("notificationSignup",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directive/notification/signup.html",scope:{options:"="}}}),angular.module("vx").directive("notificationTest",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directive/notification/test.html",scope:{options:"="}}}),angular.module("vx").config(["$stateProvider",function(t){t.state("app.guest.contact",{url:"/contact",templateUrl:"state/guest/contact.html",controller:"AppGuestContactCtrl as $contact",data:{title:"Contact Us",description:"Get in touch with our support team."}})}]).controller("AppGuestContactCtrl",["$scope","$dirtyForm","$modalMessage","$randomEmail","$randomWords","ErrorValidation","Contact",function(t,e,n,r,i,o,a){this.quickFill=function(t){var n=this.model,o=r();n||(n=this.model={}),n.name=o.toString(),n.email=o.toEmail(),n.subject=i(10),n.message=i(30),n.$wasPrefilled=!0,e(t)},this.submit=function(e,r){return r.$setSubmitted(),a.submit(this.model).$promise.then(function(t){return this.reset(null,r),r.$setPristine(!0),n(t.message),t}.bind(this))["catch"](function(e){return o.is(e)&&e.gradeForm(t,r),e})},this.reset=function(t,e){delete this.model}}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.guest.forgot-followup",{url:"/forgot/:uniqueId",templateUrl:"state/guest/forgot-followup.html",controller:"AppGuestForgotFollowUpCtrl as $forgotFollowUp",resolve:{validatedId:["$stateParams","UserRecovery",function(t,e){return e.validateId({id:t.uniqueId}).$promise}]}})}]).controller("AppGuestForgotFollowUpCtrl",["$scope","$state","$modalMessage","ErrorValidation","UserRecovery","validatedId",function(t,e,n,r,i,o){Object.defineProperties(this,{valid:{get:function(){return o.hasOwnProperty("_id")}},id:{get:function(){return o._id||!1}},user:{get:function(){return this.valid&&o.hasOwnProperty("user")?o.user:!1}}}),this.validatedId=o,this.submit=function(o,a){return a.$setSubmitted(),i.changePassword({id:this.id},this.model).$promise.then(function(t){return this.reset(null,a),a.$setPristine(!0),n(t.message),e.go("app.guest.login"),t}.bind(this))["catch"](function(e){return r.is(e)&&e.gradeForm(t,a),e}.bind(this))},this.reset=function(t,e){delete this.model}}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.guest.forgot",{url:"/forgot",templateUrl:"state/guest/forgot.html",controller:"AppGuestForgotCtrl as $forgot",data:{title:"Forgot Password",description:"Recover your account access."}})}]).controller("AppGuestForgotCtrl",["$scope","$modalMessage","$dirtyForm","$randomEmail","ErrorValidation","UserRecovery",function(t,e,n,r,i,o){this.quickFill=function(t){var e=this.model,i=r();e||(e=this.model={}),e.email=i.toEmail(),e.$wasPrefilled=!0,n(t)},this.submit=function(n,r){return r.$setSubmitted(),o.forgotPassword(this.model).$promise.then(function(t){return this.reset(null,r),r.$setPristine(!0),e(t.message),t}.bind(this))["catch"](function(e){return i.is(e)&&e.gradeForm(t,r),e}.bind(this))},this.reset=function(t,e){delete this.model}}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.guest.index",{url:"/",templateUrl:"state/guest/index.html",controller:"AppGuestIndexCtrl",data:{hideTabTitle:!0,title:"Home",description:"Click around the links above"}})}]).controller("AppGuestIndexCtrl",["$scope",function(t){}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.guest.login",{url:"/login",templateUrl:"state/guest/login.html",controller:"AppGuestLoginCtrl as $login",data:{title:"Login",description:"Enter your login credentials"}})}]).controller("AppGuestLoginCtrl",["$scope","$auth","$guestOnly",function(t,e,n){n(t),this.submit=function(t,n){return n.$setSubmitted(),e.login(this.model)["catch"](function(t){return this.model&&delete this.model.password,t}.bind(this))},this.reset=function(t,e){delete this.model}}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.guest.signup",{url:"/signup",templateUrl:"state/guest/signup.html",controller:"AppGuestSignupCtrl as $signup",data:{title:"Signup",description:"Create a new account"}})}]).controller("AppGuestSignupCtrl",["$scope","$dirtyForm","$guestOnly","$auth","$randomEmail","$randomWords","ErrorValidation",function(t,e,n,r,i,o,a){n(t),this.quickFill=function(t){var n=this.model,r=i();n||(n=this.model={}),n.name=r.toString(),n.email=r.toEmail(),n.password=o(),n.passwordConfirm=String(n.password),n.$wasPrefilled=!0,e(t)},this.submit=function(e,n){return n.$setSubmitted(),r.signup(this.model)["catch"](function(e){return a.is(e)&&e.gradeForm(t,n),e})},this.reset=function(t,e){delete this.model}}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.user.dashboard",{url:"/dashboard",templateUrl:"state/user/dashboard.html",controller:"AppUserDashboardCtrl",data:{title:"Dashboard",description:"Account overview"}})}]).controller("AppUserDashboardCtrl",["$scope",function(t){}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.user.settings",{url:"/settings",templateUrl:"state/user/settings.html",controller:"AppUserSettingsCtrl",data:{title:"Settings",description:"Configuration for your account"}})}]).controller("AppUserSettingsCtrl",["$scope",function(t){}]),angular.module("vx").config(["$stateProvider",function(t){t.state("app.user.settings.change-password",{url:"/change-password",templateUrl:"state/user/settings/change-password.html",controller:"AppUserSettingsChangePassswordCtrl",data:{title:"Change your password",description:"Update the current password on your account."}})}]).controller("AppUserSettingsChangePassswordCtrl",["$scope",function(t){}]),angular.module("vx.constants",[]).constant("API","/api").constant("DOMAIN",document.location.host.split(":").shift()).constant("DOMAINHOST",document.location.host).constant("DOMAINHTTPS","https:"===document.location.protocol).constant("WAMP_URL",("http:"===document.location.protocol?"ws:":"wss:")+"//"+document.location.host+"/ws").constant("WAMP_REALM","realm1").constant("RECAPTCHA_SITEKEY","6LeDXBwTAAAAAEfUvyZ0d0UE3ey0olDt4tpUS4kg").constant("DURATION_SHORT",{precise:!1,week:"w",weeks:"wks",day:"day",days:"days",hour:"hr",hours:"hrs",minute:"min",minutes:"mins",second:"sec",seconds:"secs",millisecond:"ms",milliseconds:"ms"});